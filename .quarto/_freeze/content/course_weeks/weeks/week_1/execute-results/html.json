{
  "hash": "34a96f37235e4efff34150457398fc79",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"1 - Introduction to Causal Inference\"\nlinktitle: \"1 - Introduction to Causal Inference\"\noutput:\n  blogdown::html_page:\n    toc: true\nmenu:\n  example:\n    parent: Course content\n    weight: 1\ntype: docs\neditor_options: \n  chunk_output_type: console\neditor: \n  markdown: \n    wrap: 72\n---\n\n\n\n\n## Slides & Recap\n\nTODO: Link to slides.\n\n## Practical example\n\n### Simpson paradox\n\nLet's go through a practical example of the Yule-Simpson paradox in a business context.\nImagine the following situation: you have developed a new product that you want to advertise online.\nneeded everywhere e.g. phone\n\nAfter running your ad campaign you are interested in the effectiveness of your ads by age group.\nFor simplicity, we divide the age groups into young and old. \nYou run the numbers and get the following results for whether a website visitor who was shown the ad clicks.\n\n\n| OVERALL | Click | No click |\n|---------|-------|----------|\n| Young   | 500   | 10'000   |\n| Old     | 300   | 7'500    |\n\nFrom here, we can compute the click-through rate (CTR):\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Overall\nctr_yng <- 500 / (500 + 10000) # young\nctr_old <- 300 / (300 + 7500) # old\n\n# Difference\nctr_yng - ctr_old\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.0092\n```\n\n\n:::\n:::\n\n\nYou draw the conclusion that ads on young people were more effective.\n\nHowever, you sense that this might be a case of the Simpson paradox and identify region as a potential confounder.\nDividing your data by region, for simplicity only urban and rural, you get the numbers ...\n\nfor your advertising performance in *urban regions*\n\n\n| URBAN | Click | No click |\n|-------|-------|----------|\n| Young | 350   | 4'000    |\n| Old   | 80    | 500      |\n\nand in *rural regions*.\n\n| RURAL | Click | No click |\n|-------|-------|----------|\n| Young | 150   | 6'000    |\n| Old   | 220   | 7'000    |\n\nAs before, you compute the CTRs, but now by region. First for urban areas:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Urban region\nctr_yng_urb <- 350 / (350 + 4000) # young people\nctr_old_urb <- 80 / (80 + 500) # old people\n\n# Difference\nctr_yng_urb - ctr_old_urb\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -0.057\n```\n\n\n:::\n:::\n\n\nOther than for the overall effect, the effect of ads for old people is higher causing the difference to be negative. Now, intuitively, you would think that for rural areas, the effect for ads on young people would be substantially higher than for old people to explain the overall higher effect for young people. Let'check:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Rural region\nctr_yng_rur <- 150 / (150 + 6000) # young\nctr_old_rur <- 220 / (220 + 7000) # old\n\n# Difference\nctr_yng_rur - ctr_old_rur\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -0.0061\n```\n\n\n:::\n:::\n\n\nAnd, surprisingly, you see the difference is again negative, indicating more reaction among old people.\n\n::: callout-note\nTo neatly format variables in a desired manner, use `sprintf()``\u001b. Simply furnish a string template with placeholders for variables or expressions. These can encompass strings, integers, floats, and more.\n:::\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nsprintf(\"All areas: %.2f %%\", 100 * (ctr_yng - ctr_old))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"All areas: 0.92 %\"\n```\n\n\n:::\n\n```{.r .cell-code}\nsprintf(\"Urban area: %.2f %%\", 100 * (ctr_yng_urb - ctr_old_urb))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Urban area: -5.75 %\"\n```\n\n\n:::\n\n```{.r .cell-code}\nsprintf(\"Rural area: %.2f %%\", 100 * (ctr_yng_rur - ctr_old_rur))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Rural area: -0.61 %\"\n```\n\n\n:::\n:::\n\n\nBecause the combination of two negative differences resulting in a positive difference is unexpected at first, this scenario is labelled a **paradox**. In the assignment, you will be asked to explain why it happens.\n\n<!--\n\"When less effective treatment applied more frequently to less severe cases, it \nappears to be more effective.\"\nTranslated to our scenario: \n  - 'less effective treatment': young people because they are less reactive to \n  ads.\n  - ' less severe cases': people in urban areas because they have a higher CTR.\nBecause there are more young people in urban areas, treating young people \nappears to be more effective in the overall analysis. However, when analyzed\nby region, it shows that in fact, older people are more likely to react to an \nad.\n-->\n\n\n\n\n\n\n## Assignment\n\n::: assignment\nPlease go to [Week 1 -\nAssignment](https://classroom.github.com/a/qKNVakO4) and solve the\nfollowing questions. For the first week, there is only one actual\nquestion and we do not grade your solutions as the primary objective is\nto ensure you understand the workflow and submission process via GitHub,\nas well as to familiarize yourself with R.\n\n1.  What is 1+1 ?\n\n2.  What is 2+2 ?\n\n3.  Take a closer look at the numbers (outcome, sample sizes etc.) of\n    the practical example of a Simpson paradox. Give an explanation why\n    the Simpson paradox occurs (1-2 sentences).\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}