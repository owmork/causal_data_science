<!DOCTYPE html>
<html lang="en"><head>
<link href="../../images/favicon_cds_16x16.png" rel="icon" type="image/png">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.536">

  <meta name="author" content="Christoph Ihl">
  <title>CAUSAL DATA SCIENCE FOR BUSINESS ANALYTICS - (1) Introduction to Causal Inference</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #e1e4e8; background-color: #005e73; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #e1e4e8; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #ff7e15; } /* Attribute */
    code span.bn { color: #5affc5; } /* BaseN */
    code span.bu { color: #ff7e15; } /* BuiltIn */
    code span.cf { color: #ff7e15; } /* ControlFlow */
    code span.ch { color: #5affc5; } /* Char */
    code span.cn { color: #5affc5; } /* Constant */
    code span.co { color: #a8968c; } /* Comment */
    code span.cv { color: #a8968c; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #f97583; } /* DataType */
    code span.dv { color: #5affc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #f97583; font-weight: bold; } /* Extension */
    code span.fl { color: #5affc5; } /* Float */
    code span.fu { color: #00c1d4; } /* Function */
    code span.im { color: #9ecbff; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #f97583; } /* Keyword */
    code span.op { color: #e1e4e8; } /* Operator */
    code span.ot { color: #5affc5; } /* Other */
    code span.pp { color: #f97583; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #5affcf; } /* SpecialChar */
    code span.ss { color: #9ecbff; } /* SpecialString */
    code span.st { color: #5affc5; } /* String */
    code span.va { color: #ffab70; } /* Variable */
    code span.vs { color: #9ecbff; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="_extensions/tie_present/fonts.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-fullscreen-button/FullscreenButton.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-toggle-dark-mode/toggledarkmode.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/simplemenu/SimpleMenu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link rel="icon" type="image/svg" sizes="16x16" href="https://raw.githubusercontent.com/christophihl/TIE_website/main/assets/images/icon.svg">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">(1) Introduction to Causal Inference</h1>
  <p class="subtitle">Causal Data Science for Business Analytics</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Christoph Ihl 
</div>
        <p class="quarto-title-affiliation">
            Hamburg University of Technology
          </p>
    </div>
</div>

  <p class="date">Tuesday, 2. July 2024</p>
</section>
<section>
<section id="course-overview" class="title-slide slide level1 center" data-stack-name="Overview">
<h1>Course Overview</h1>
<div class="cell">
<style type="text/css">
div.callout-note{border-left-color:#00C1D4 !important}div.callout-note.callout-style-default .callout-title{background-color:#005e73;color:white}.callout.callout-style-default{border-left:solid #005e73 .3rem;border-right:solid 1px #005e73;border-top:solid 1px #005e73;border-bottom:solid 1px #005e73}
</style>
</div>
</section>
<section id="learning-goals" class="slide level2">
<h2>Learning Goals</h2>
<div>
<ul>
<li>Understand the difference between “correlation” and “causation”</li>
<li>Understand the shortcomings of current correlation-based approaches</li>
<li>Develop causal knowledge relevant for specific data-driven decisions</li>
<li>Formalize intuition about causal relationships using a “language” of causality</li>
<li>Derive causal hypotheses that can be tested with data</li>
<li>Discuss the conceptual ideas behind state-of-the-art causal data science tools and algorithms</li>
<li>Carry out causal data analyses with state-of-the-art tools</li>
</ul>
</div>
</section>
<section id="map-of-causality" class="slide level2">
<h2>Map of Causality</h2>

<img data-src="_images/_1/causality_map.png" class="r-stretch quarto-figure quarto-figure-center"><div class="source">
<p>Source: <a href="https://towardsdatascience.com/how-to-understand-the-world-of-causality-c698cdc9f27c">https://towardsdatascience.com</a> (2023).</p>
</div>
</section>
<section id="preliminary-schedule" class="slide level2 smaller">
<h2>Preliminary Schedule</h2>
<table>
<thead>
<tr class="header">
<th>Session</th>
<th>Date</th>
<th>Topic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>April 15 &amp; 16</td>
<td>Introduction to Causal Inference</td>
</tr>
<tr class="even">
<td>2</td>
<td>April 22 &amp; 21</td>
<td>Graphical Causal Models</td>
</tr>
<tr class="odd">
<td>3</td>
<td>April 29 &amp; 30</td>
<td>Randomized Experiments</td>
</tr>
<tr class="even">
<td>4</td>
<td>May 6 &amp; 7</td>
<td>Observed Confounding</td>
</tr>
<tr class="odd">
<td>5</td>
<td>May 13 &amp; 14</td>
<td>Double Machine Learning</td>
</tr>
<tr class="even">
<td>-</td>
<td>May 20 &amp; 21</td>
<td>Holiday</td>
</tr>
<tr class="odd">
<td>6</td>
<td>May 27 &amp; 28</td>
<td>Effect Heterogeneity</td>
</tr>
<tr class="even">
<td>7</td>
<td>June 3 &amp; 4</td>
<td>Unobserved Confounding &amp; Instrumental Variables</td>
</tr>
<tr class="odd">
<td>8</td>
<td>June 10 &amp; 11</td>
<td>Difference-in-Difference</td>
</tr>
<tr class="even">
<td>9</td>
<td>June 17 &amp; 18</td>
<td>Synthetic Control</td>
</tr>
<tr class="odd">
<td>10</td>
<td>June 24 &amp; 25</td>
<td>Regression Discontinuity</td>
</tr>
<tr class="even">
<td>11</td>
<td>July 1 &amp; 2</td>
<td>Causal Mediation</td>
</tr>
<tr class="odd">
<td>12</td>
<td>July 8 &amp; 9</td>
<td>Further Topics in Causal Machine Learning</td>
</tr>
</tbody>
</table>
</section>
<section id="course-structure" class="slide level2">
<h2>Course Structure</h2>
<ul>
<li><code>Lecture - Causal Data Science:</code> Monday, 11.30 - 13.00, Building D, Room D - 1.023</li>
<li><code>Lab - Business Analytics with Causal Data Science:</code> Tuesday, 15.00 - 16.30, Building O, Room O - 0.007</li>
</ul>
<p><br></p>
<ul>
<li><code>Examination:</code> 10 challenges related to each topic documented in a lab journal</li>
</ul>
<p><br></p>
<ul>
<li><code>Contact:</code> Oliver Mork (<a href="mailto:oliver.mork@tuhh.de">oliver.mork@tuhh.de</a>)</li>
</ul>
</section>
<section id="course-literature" class="slide level2 smaller">
<h2>Course Literature</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1"><strong>Primary:</strong></a></li><li><a href="#tabset-1-2"><strong>Secondary:</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<ul>
<li>Ding, Peng (2023). A First Course in Causal Inference. arXiv preprint arXiv:2305.18793.</li>
<li>Facure, Matheus (2023). Causal Inference in Python - Applying Causal Inference in the Tech Industry. O’Reilly Media.</li>
<li>Huber, Martin (2023). Causal analysis: Impact evaluation and Causal Machine Learning with applications in R. MIT Press, 2023.</li>
<li>Neal, Brady (2020). Introduction to causal inference from a Machine Learning Perspective. Course Lecture Notes (draft).</li>
</ul>
</div>
<div id="tabset-1-2">
<ul>
<li>Angrist, J. D., &amp; Pischke, J. S. (2014). Mastering metrics: The path from cause to effect. Princeton university press.</li>
<li>Cunningham, Scott (2021). Causal Inference: The Mixtape, New Haven: Yale University Press.</li>
<li>Gertler, Paul J., et al.&nbsp;(2016). Impact evaluation in practice. World Bank Publications.</li>
<li>Hernán Miguel A., and Robins James M. (2020). Causal Inference: What If. Boca Raton: Chapman &amp; Hall/CRC.</li>
<li>Huntington-Klein, Nick (2021). The effect: An introduction to research design and causality. Chapman and Hall/CRC.</li>
<li>Imbens, G. W., &amp; Rubin, D. B. (2015). Causal inference in statistics, social, and biomedical sciences. Cambridge University Press.</li>
<li>Mullainathan, Sendhil, and Jann Spiess. (2017). Machine Learning: An Applied Econometric Approach. Journal of Economic Perspectives, 31(2): 87–106.</li>
<li>Pearl, Judea, and Dana Mackenzie (2018). The Book of Why. Basic Books, New York, NY.</li>
<li>Pearl, Judea, Madelyn Glymour, and Nicholas P. Jewell (2016). Causal Inference in Statistics: A Primer. John Wiley &amp; Sons, Inc., New York, NY.</li>
<li>Peters, Jonas, Dominik Janzing, and Bernhard Schölkopf (2017). Elements of causal inference: foundations and learning algorithms. The MIT Press.</li>
</ul>
</div>
</div>
</div>
</section></section>
<section>
<section id="course-motivation" class="title-slide slide level1 center" data-stack-name="Motivation">
<h1>Course Motivation</h1>

</section>
<section id="causality-vs.-correlation" class="slide level2">
<h2>Causality vs.&nbsp;Correlation</h2>
<ul>
<li>Causality is central to human knowledge.</li>
<li>Two famous quotes from ancient Greeks:
<ul>
<li>“I would rather discover one causal law than be King of Persia.” <code>(Democritus)</code></li>
<li>“We do not have knowledge of a thing until we grasped its cause.” <code>(Aristotle)</code> <br><br></li>
</ul></li>
<li>However:
<ul>
<li>Classic statistics is about association rather than causation.</li>
<li>Machine learning is about prediction rather than causation.</li>
</ul></li>
</ul>
</section>
<section id="causality-vs.-correlation-1" class="slide level2">
<h2>Causality vs.&nbsp;Correlation</h2>
<ul>
<li>“Correlation does not imply causation.”</li>
<li>“You can not prove causality with statistics.” <br><br></li>
<li>But statistics is crucial for understanding causality:
<ul>
<li>Formal language for causal inference.</li>
<li>Methods to estimate causal effects.</li>
</ul></li>
</ul>

<img data-src="_images/_1/nobel.jpeg" class="r-stretch quarto-figure quarto-figure-center"></section>
<section id="causality-vs.-correlation-2" class="slide level2">
<h2>Causality vs.&nbsp;Correlation</h2>

<img data-src="_images/_1/hbr.png" class="r-stretch quarto-figure quarto-figure-center"><div class="source">
<p>Source: <a href="https://hbr.org/2021/11/leaders-stop-confusing-correlation-with-causation">https://hbr.org/2021/11/leaders-stop-confusing-correlation-with-causation</a>.</p>
</div>
</section>
<section id="causality-vs.-correlation-3" class="slide level2">
<h2>Causality vs.&nbsp;Correlation</h2>

<img data-src="_images/_1/nicolas_cage.png" class="r-stretch quarto-figure quarto-figure-center"><div class="source">
<p>Source: <a href="https://www.tylervigen.com/spurious-%20correlations">https://www.tylervigen.com/spurious- correlations</a>.</p>
</div>
</section>
<section id="causality-vs.-correlation-4" class="slide level2">
<h2>Causality vs.&nbsp;Correlation</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="_images/_1/nobel_choc.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img data-src="_images/_1/nobel_choc.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
<div class="source">
<p>Source: Peters, Jonas. 2015. Causality: Lecture Notes, ETH Zurich.</p>
</div>
</section>
<section id="causality-vs.-correlation-5" class="slide level2">
<h2>Causality vs.&nbsp;Correlation</h2>
<ul>
<li>Correlation, or better association, is not (entirely) causation, if there is confounding association due to a common cause, i.e.&nbsp;a <strong><em>confounder</em></strong>.</li>
<li>E.g. drinking the night before is a common cause of sleeping with shoes on and of waking up with a headache:</li>
</ul>
<p><img data-src="_images/_1/headache.png" class="quarto-figure quarto-figure-center" height="400"> <br></p>
<div class="source">
<p>Source: Neal, Brady (2020). Introduction to causal inference from a Machine Learning Perspective. Course Lecture Notes (draft).</p>
</div>
</section>
<section id="causality-vs.-correlation-6" class="slide level2">
<h2>Causality vs.&nbsp;Correlation</h2>
<ul>
<li>Correlation, or better association, is not (entirely) causation, if there is confounding association due to a common cause, i.e.&nbsp;a <strong><em>confounder</em></strong>.</li>
<li>E.g. Consumers’ purchase intent is a common cause of the amount spent on search engine marketing (SEM) (esp.&nbsp;for branded vs.&nbsp;non-branded ads) and sales (especially for frequent consumers):</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">library</span>(ggdag)</span>
<span id="cb1-2"><a></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a></a></span>
<span id="cb1-4"><a></a>coord_dag <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb1-5"><a></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="at">SEM =</span> <span class="dv">0</span>, <span class="at">Intent =</span> <span class="dv">1</span>, <span class="at">Sales =</span> <span class="dv">2</span>),</span>
<span id="cb1-6"><a></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="at">SEM =</span> <span class="dv">0</span>, <span class="at">Intent =</span> <span class="dv">1</span>, <span class="at">Sales =</span> <span class="dv">0</span>)</span>
<span id="cb1-7"><a></a>)</span>
<span id="cb1-8"><a></a></span>
<span id="cb1-9"><a></a>dag <span class="ot">&lt;-</span> ggdag<span class="sc">::</span><span class="fu">dagify</span>(SEM <span class="sc">~</span> Intent,</span>
<span id="cb1-10"><a></a>                     Sales <span class="sc">~</span> SEM,</span>
<span id="cb1-11"><a></a>                     Sales <span class="sc">~</span> Intent,</span>
<span id="cb1-12"><a></a>                     <span class="at">coords =</span> coord_dag)</span>
<span id="cb1-13"><a></a></span>
<span id="cb1-14"><a></a>dag <span class="sc">%&gt;%</span></span>
<span id="cb1-15"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">xend =</span> xend, <span class="at">yend =</span> yend)) <span class="sc">+</span></span>
<span id="cb1-16"><a></a>  <span class="fu">geom_dag_point</span>(<span class="at">colour =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb1-17"><a></a>  <span class="fu">geom_dag_edges</span>() <span class="sc">+</span></span>
<span id="cb1-18"><a></a>  <span class="fu">geom_dag_text</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb1-19"><a></a>  <span class="fu">theme_dag</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><a href="01_intro_files/figure-revealjs/unnamed-chunk-3-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img data-src="01_intro_files/figure-revealjs/unnamed-chunk-3-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
<div class="source">
<p>(Source: <a href="http://faculty.haas.berkeley.edu/stadelis/Tadelis.pdf">Blake et al.&nbsp;(2015). Consumer heterogeneity and paid search effectiveness: A large‐scale field experiment. Econometrica, 83(1), 155-174.</a>)</p>
</div>
</section></section>
<section>
<section id="simpsons-paradox" class="title-slide slide level1 center" data-stack-name="Simpson's Paradox">
<h1>Simpson’s Paradox</h1>

</section>
<section id="motivating-example-gender-pay-gap-1" class="slide level2">
<h2>Motivating Example: Gender Pay Gap (1)</h2>
<div class="line-block">- <strong>Reported by The New York Times in March 2019:</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;“When Google conducted a study recently to determine whether<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the company was underpaying women and minority groups, it found<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that men were paid less money than women for doing similar work.”</div>
<div class="source">
<p>(Source: <a href="https://www.nytimes.com/2019/03/04/technology/google-gender-pay-gap.html">https://www.nytimes.com/2019/03/04/technology/google-gender-pay-gap.html</a>)</p>
</div>
<ul>
<li>The study led Google to increase the pay of its male employees to fight this blatant discrimination of men.</li>
<li>What’s going on here? Wasn’t Google just recently accused of discriminating against women, not men?</li>
</ul>
<div class="line-block">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;“Department of Labor claims that Google systematically underpays its<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;female employees.”</div>
<div class="source">
<p>(Source: <a href="https://www.theverge.com/2017/4/8/15229688/department-of-labor-google-gender-pay-gap">https://www.theverge.com/2017/4/8/15229688/department-of-labor-google-gender-pay-gap</a>)</p>
</div>
</section>
<section id="motivating-example-gender-pay-gap-2" class="slide level2">
<h2>Motivating Example: Gender Pay Gap (2)</h2>
<ul>
<li>Suppose we collected data on wages payed to 100 women and 100 men in company X.</li>
<li>We observe the following average monthly salaries for women and men in management and non-management positions (case numbers in parentheses):</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: center;">Women</th>
<th style="text-align: center;">Men</th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Non-management:</td>
<td style="text-align: center;">$3,163.30 (87)</td>
<td style="text-align: center;">$3,015.18 (59)</td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Management:</td>
<td style="text-align: center;">$5,592.44 (13)</td>
<td style="text-align: center;">$5,319.82 (41)</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p><br></p>
<ul>
<li>Our goal is to estimate the magnitude of the gender pay gap in company X. How should we tackle this problem?</li>
</ul>
</section>
<section id="motivating-example-gender-pay-gap-3" class="slide level2 smaller">
<h2>Motivating Example: Gender Pay Gap (3)</h2>
<ul>
<li>On average, women earn less in this example: <span class="math display">\[
   \left(\frac{87}{100} \cdot \$3163.30\right) + \left(\frac{13}{100} \cdot \$5592.44\right) -
   \left(\frac{59}{100} \cdot \$3015.18\right) + \left(\frac{41}{100} \cdot \$5319.82\right) \\
   \approx -\$481
\]</span></li>
<li>But in each subcategory women actually have higher salaries:</li>
</ul>
<div class="line-block">&nbsp;&nbsp;- <strong>Non- Management</strong>: <span class="math inline">\(\$3163.30 - \$3015.18 = \$148.12\)</span></div>
<div class="line-block">&nbsp;&nbsp;- <strong>Management</strong>: <span class="math inline">\(\$5592.44 - \$5319.82 = \$272.62\)</span></div>
<ul>
<li>Conditioning on job position gives the adjusted gender pay gap:</li>
</ul>
<p><span class="math display">\[
   \left(\frac{87 + 59}{200} \cdot \$148.12\right) + \left(\frac{13 + 41}{200} \cdot \$272.62\right) \approx \$181.74
\]</span></p>
<ul>
<li>Which estimate gives us a more accurate picture of the gender pay gap?</li>
</ul>
</section>
<section id="motivating-example-gender-pay-gap-4" class="slide level2">
<h2>Motivating Example: Gender Pay Gap (4)</h2>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-2"><a></a>  <span class="at">Salary =</span> <span class="fu">c</span>(<span class="fl">5319.82</span>, <span class="fl">3015.18</span>, <span class="fl">5592.44</span>, <span class="fl">3163.30</span>, <span class="fl">3960.08</span>, <span class="fl">3479.09</span>),</span>
<span id="cb2-3"><a></a>  <span class="at">Position =</span> <span class="fu">c</span>(<span class="st">"Management"</span>, <span class="st">"Non-Management"</span>, <span class="st">"Management"</span>, <span class="st">"Non-Management"</span>, <span class="st">"All Positions"</span>, <span class="st">"All Positions"</span>),</span>
<span id="cb2-4"><a></a>  <span class="at">Gender =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Male"</span>, <span class="st">"Female"</span>, <span class="st">"Female"</span>, <span class="st">"Male"</span>, <span class="st">"Female"</span>)</span>
<span id="cb2-5"><a></a>)</span>
<span id="cb2-6"><a></a></span>
<span id="cb2-7"><a></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-8"><a></a></span>
<span id="cb2-9"><a></a>data <span class="sc">|&gt;</span> </span>
<span id="cb2-10"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Gender, <span class="at">y=</span>Salary, <span class="at">group=</span>Position, <span class="at">colour=</span>Position)) <span class="sc">+</span></span>
<span id="cb2-11"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb2-12"><a></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><a href="01_intro_files/figure-revealjs/unnamed-chunk-4-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img data-src="01_intro_files/figure-revealjs/unnamed-chunk-4-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="simpsons-paradox-1" class="slide level2">
<h2>Simpson’s Paradox (1)</h2>
<ul>
<li>The phenomenon that a statistical association, which holds in a population, can be reversed in every subpopulation is named after the British statistician Edward Simpson.</li>
<li>Simpson’s paradox well-known, for example, in epidemiology and labor economics.</li>
<li>In the gender pay gap example, the unadjusted gender pay (- $481) gap gives the right answer.</li>
</ul>
<div class="fragment fade-in">
<ul>
<li>But what about this example?</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: center;">Healthy Lifestyle</th>
<th style="text-align: center;">Unhealthy Lifestyle</th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Non-management:</td>
<td style="text-align: center;">$3,163.30 (87)</td>
<td style="text-align: center;">$3,015.18 (59)</td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Management:</td>
<td style="text-align: center;">$5,592.44 (13)</td>
<td style="text-align: center;">$5,319.82 (41)</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="simpsons-paradox-2" class="slide level2">
<h2>Simpson’s Paradox (2)</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><a href="01_intro_files/figure-revealjs/unnamed-chunk-5-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img data-src="01_intro_files/figure-revealjs/unnamed-chunk-5-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Here, we would correctly infer that people with a healthy lifestyle earn more on average ($181.74).</li>
</ul>
</section>
<section id="simpsons-paradox-3" class="slide level2">
<h2>Simpson’s Paradox (3)</h2>
<ul>
<li>What is the difference between the two examples?</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="fu">library</span>(ggdag)</span>
<span id="cb3-2"><a></a></span>
<span id="cb3-3"><a></a>coord_dag <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb3-4"><a></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="at">Gender =</span> <span class="dv">0</span>, <span class="at">Management =</span> <span class="dv">1</span>, <span class="at">Salary =</span> <span class="dv">2</span>),</span>
<span id="cb3-5"><a></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="at">Gender =</span> <span class="dv">0</span>, <span class="at">Management =</span> <span class="dv">1</span>, <span class="at">Salary =</span> <span class="dv">0</span>)</span>
<span id="cb3-6"><a></a>)</span>
<span id="cb3-7"><a></a></span>
<span id="cb3-8"><a></a>dag <span class="ot">&lt;-</span> ggdag<span class="sc">::</span><span class="fu">dagify</span>(Management <span class="sc">~</span> Gender,</span>
<span id="cb3-9"><a></a>                     Salary <span class="sc">~</span> Gender,</span>
<span id="cb3-10"><a></a>                     Salary <span class="sc">~</span> Management,</span>
<span id="cb3-11"><a></a>                     <span class="at">coords =</span> coord_dag)</span>
<span id="cb3-12"><a></a></span>
<span id="cb3-13"><a></a>dag <span class="sc">%&gt;%</span></span>
<span id="cb3-14"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">xend =</span> xend, <span class="at">yend =</span> yend)) <span class="sc">+</span></span>
<span id="cb3-15"><a></a>  <span class="fu">geom_dag_point</span>(<span class="at">colour =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb3-16"><a></a>  <span class="fu">geom_dag_edges</span>() <span class="sc">+</span></span>
<span id="cb3-17"><a></a>  <span class="fu">geom_dag_text</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb3-18"><a></a>  <span class="fu">theme_dag</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><a href="01_intro_files/figure-revealjs/unnamed-chunk-6-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img data-src="01_intro_files/figure-revealjs/unnamed-chunk-6-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Management as “mediator”</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">library</span>(ggdag)</span>
<span id="cb4-2"><a></a></span>
<span id="cb4-3"><a></a>coord_dag <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb4-4"><a></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="at">Lifestyle =</span> <span class="dv">0</span>, <span class="at">Management =</span> <span class="dv">1</span>, <span class="at">Salary =</span> <span class="dv">2</span>),</span>
<span id="cb4-5"><a></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="at">Lifestyle =</span> <span class="dv">0</span>, <span class="at">Management =</span> <span class="dv">1</span>, <span class="at">Salary =</span> <span class="dv">0</span>)</span>
<span id="cb4-6"><a></a>)</span>
<span id="cb4-7"><a></a></span>
<span id="cb4-8"><a></a>dag <span class="ot">&lt;-</span> ggdag<span class="sc">::</span><span class="fu">dagify</span>(Lifestyle <span class="sc">~</span> Management,</span>
<span id="cb4-9"><a></a>                     Salary <span class="sc">~</span> Lifestyle,</span>
<span id="cb4-10"><a></a>                     Salary <span class="sc">~</span> Management,</span>
<span id="cb4-11"><a></a>                     <span class="at">coords =</span> coord_dag)</span>
<span id="cb4-12"><a></a></span>
<span id="cb4-13"><a></a>dag <span class="sc">%&gt;%</span></span>
<span id="cb4-14"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">xend =</span> xend, <span class="at">yend =</span> yend)) <span class="sc">+</span></span>
<span id="cb4-15"><a></a>  <span class="fu">geom_dag_point</span>(<span class="at">colour =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb4-16"><a></a>  <span class="fu">geom_dag_edges</span>() <span class="sc">+</span></span>
<span id="cb4-17"><a></a>  <span class="fu">geom_dag_text</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb4-18"><a></a>  <span class="fu">theme_dag</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><a href="01_intro_files/figure-revealjs/unnamed-chunk-7-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img data-src="01_intro_files/figure-revealjs/unnamed-chunk-7-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Management as “confounder”</li>
</ul>
</div>
</div>
</section>
<section id="simpsons-paradox-4" class="slide level2">
<h2>Simpson’s Paradox (4)</h2>
<ul>
<li>Statistics alone doesn’t help us to answer this question.</li>
<li>Note that the joint distribution of salaries is the same in both cases.</li>
<li>Both problems are thus identical from a statistical point of view.</li>
<li>Instead, we need to make causal assumptions in order to come to a conclusion here:
<ul>
<li>Gender affects both a person’s salary level and job position.</li>
<li>Whereas lifestyle affects salaries, but is itself affected by a person’s job position.</li>
</ul></li>
<li>After the course you will know how to incorporate this kind of causal knowledge in your analysis in order to solve all sorts of practical problems of causal inference.</li>
</ul>
</section>
<section id="simpsons-paradox-5" class="slide level2">
<h2>Simpson’s Paradox (5)</h2>

<img data-src="_images/_1/simpson_in_hr.png" class="r-stretch quarto-figure quarto-figure-center"><div class="source">
<p>Source: <a href="https://rpubs.com/lakenp/simpsonsparadox">https://rpubs.com/lakenp/simpsonsparadox</a>.</p>
</div>
</section></section>
<section>
<section id="potential-outcomes" class="title-slide slide level1 center" data-stack-name="Potential Outcomes">
<h1>Potential Outcomes</h1>

</section>
<section id="experimentalists-view-of-causal-inference" class="slide level2 smaller">
<h2>Experimentalists’ View of Causal Inference</h2>
<ul>
<li><em>“No causation without manipulation.”</em> <code>(Rubin, 1975; Holland, 1986)</code></li>
<li>(Thought) Experiments with <em>manipulation</em>; also called <em>intervention</em> or <em>treatment</em>.</li>
<li>Treatments can be binary, continuous, or multi-valued.</li>
<li>Examples:
<ul>
<li>take a drug vs.&nbsp;don’t take a drug</li>
<li>participate in a training program A vs B vs.&nbsp;don’t participate</li>
<li>amount of money spent on advertising</li>
<li>change race of job applicants? Resumes with African-American- or White-sounding names <code>(Bertrand and Mullainathan, 2004)</code>.</li>
<li>level of neuroticism?</li>
</ul></li>
<li>The <strong><em>potential outcomes framework</em></strong> <code>(Neyman, 1923; Rubin, 1974)</code> is a way to formalize this idea.</li>
</ul>
</section>
<section id="formal-notation-of-potential-outcomes" class="slide level2">
<h2>Formal Notation of Potential Outcomes</h2>
<ul>
<li><span class="math inline">\(n\)</span> experimental units indexed by <span class="math inline">\(i = 1, . . . , n\)</span></li>
<li><span class="math inline">\(Y\)</span> is the outcome of interest.</li>
<li><span class="math inline">\(T_i\)</span> is the (random) treatment variable for unit <span class="math inline">\(i\)</span>.
<ul>
<li>Assume it can take two levels: <span class="math inline">\(t_i = 1\)</span> for treatment and <span class="math inline">\(t_i = 0\)</span> for control.</li>
</ul></li>
<li><span class="math inline">\(Y_i(1)\)</span> is the <em>potential</em> outcome for unit <span class="math inline">\(i\)</span> if unit <span class="math inline">\(i\)</span> receives treatment.</li>
<li><span class="math inline">\(Y_i(0)\)</span> is the <em>potential</em> outcome for unit <span class="math inline">\(i\)</span> if unit <span class="math inline">\(i\)</span> does not receive treatment. <br><br></li>
<li>The <strong><em>Individual Treatment Effect (ITE)</em></strong> for unit <span class="math inline">\(i\)</span> is defined as:
<ul>
<li><span class="math inline">\(\tau_i = Y_i(1) - Y_i(0) \quad \forall \quad i = 1, . . . , n\)</span>.</li>
</ul></li>
</ul>
</section>
<section id="assumptions-in-the-po-framework-1" class="slide level2 smaller">
<h2>Assumptions in the PO Framework (1)</h2>
<p>For the potential outcomes and the <em>ITE</em> to be precisely defined, we need to make an initial set of assumptions:</p>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Assumption 1: “No Interference”</strong></p>
</div>
<div class="callout-content">
<p>Unit i’s potential outcomes do not depend on other units’ treatments.</p>
<p><span class="math inline">\(Y_i(t_1,...,t_{i-1},t_i,t_{i+1},...t_n) = Y_i(t_i)\)</span></p>
</div>
</div>
</div>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Assumption 2: “Consistency.”</strong></p>
</div>
<div class="callout-content">
<p>There are no other versions of the treatment. Equivalently, we require that the treatment levels be well-defined, or have no ambiguity at least for the outcome of interest. If the treatment is <span class="math inline">\(T\)</span>, then the observed outcome <span class="math inline">\(Y\)</span> is the potential outcome under treatment <span class="math inline">\(T\)</span>.</p>
<p>Formally, <span class="math inline">\(T = t  =&gt; Y = Y(t)\)</span> or equivalently <span class="math inline">\(Y = Y(T)\)</span></p>
</div>
</div>
</div>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Assumption 3: “Stable Unit Treatment Value Assumption (SUTVA).”</strong></p>
</div>
<div class="callout-content">
<p>Both Assumptions 1 and 2 hold: <span class="math inline">\(Y_i = Y(T_i)\)</span></p>
</div>
</div>
</div>
</section>
<section id="fundamental-problem-of-causal-inference" class="slide level2">
<h2>Fundamental Problem of Causal Inference</h2>
<ul>
<li>Typically, only one of those outcomes is <em>actually</em> observed for unit <span class="math inline">\(i\)</span>:
<ul>
<li><span class="math inline">\(Y_i = T_iY_i(1) + (1 − T_i)Y_i(0)\)</span>.</li>
</ul></li>
<li>The other one remains unobserved or <em>counterfactual</em>.</li>
<li>This makes calculating the <em>ITE</em> <span class="math inline">\(\tau_i\)</span> impossible.</li>
</ul>
<table>
<thead>
<tr class="header">
<th><span class="math inline">\(i\)</span></th>
<th><span class="math inline">\(T_i\)</span></th>
<th><span class="math inline">\(Y_i\)</span></th>
<th style="text-align: center;"><span class="math inline">\(Y_i(1)\)</span></th>
<th style="text-align: center;"><span class="math inline">\(Y_i(0)\)</span></th>
<th style="text-align: center;"><span class="math inline">\(Y_i(1) - Y_i(0)\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>0</td>
<td>0</td>
<td style="text-align: center;">?</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">?</td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">?</td>
<td style="text-align: center;">?</td>
</tr>
<tr class="odd">
<td>3</td>
<td>1</td>
<td>0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">?</td>
<td style="text-align: center;">?</td>
</tr>
<tr class="even">
<td>4</td>
<td>0</td>
<td>0</td>
<td style="text-align: center;">?</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">?</td>
</tr>
<tr class="odd">
<td>5</td>
<td>0</td>
<td>1</td>
<td style="text-align: center;">?</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">?</td>
</tr>
<tr class="even">
<td>6</td>
<td>1</td>
<td>1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">?</td>
<td style="text-align: center;">?</td>
</tr>
</tbody>
</table>
</section>
<section id="getting-around-the-fundamental-problem" class="slide level2">
<h2>Getting Around the Fundamental Problem</h2>
<ul>
<li>Does the <strong><em>Average Treatment Effect (ATE)</em></strong> help?</li>
<li>Defined in terms of expectations:
<ul>
<li><span class="math inline">\(\tau = \mathbb{E}[\tau_i] = \mathbb{E}[Y_i(1) - Y_i(0)] = \mathbb{E}[Y_i(1)] - \mathbb{E}[Y_i(0)]\)</span></li>
</ul></li>
<li>Defined in terms of averages:
<ul>
<li><span class="math inline">\(\tau = \frac{1}{n} \sum_{i=1}^{n} [\tau_i] = \frac{1}{n} \sum_{i=1}^{n} [Y_i(1) - Y_i(0)] = \frac{1}{n} \sum_{i=1}^{n} [Y_i(1)] - \frac{1}{n} \sum_{i=1}^{n} [Y_i(0)]\)</span></li>
</ul></li>
</ul>
<p><br><br></p>
<ul>
<li>Still not computable, because we don’t know the counterfactuals.</li>
</ul>
</section>
<section id="assumptions-in-the-po-framework-2" class="slide level2">
<h2>Assumptions in the PO Framework (2)</h2>
<ul>
<li>We need to make further assumptions to make progress.</li>
</ul>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Assumption 4: “Ignorability / Exchangeability”.</strong></p>
</div>
<div class="callout-content">
<p>Ignorability (of how people selected their treatment) is equivalent to random assignment into treatments.</p>
<p>Exchangeability means that observations in treatment and control group could be swapped, and one would still obtain the same outcomes. This implies that observations in groups are the same in all relevant aspects other than the treatment.</p>
<p>Formally, <span class="math inline">\((Y(1), Y(0)) \perp\!\!\!\perp T\)</span>.</p>
</div>
</div>
</div>

<img data-src="_images/_1/dag_ass4.png" class="r-stretch quarto-figure quarto-figure-center"></section>
<section id="ate-identification---intuition" class="slide level2 smaller">
<h2>ATE Identification - Intuition</h2>
<ul>
<li>Using assumptions 4 and 2, we obtain the following simplification:
<ul>
<li><span class="math inline">\(\mathbb{E}[Y_i(1)] - \mathbb{E}[Y_i(0)] = \mathbb{E}[Y_i(1)|T_i=1] - \mathbb{E}[Y_i(0)|T_i=0] = \mathbb{E}[Y_i|T_i=1] - \mathbb{E}[Y_i|T_i=0]\)</span></li>
</ul></li>
<li>This implies the <em>ATE</em> to be obtainable as <em>associational difference</em>:</li>
</ul>
<table>
<thead>
<tr class="header">
<th><span class="math inline">\(i\)</span></th>
<th><span class="math inline">\(T_i\)</span></th>
<th><span class="math inline">\(Y_i\)</span></th>
<th style="text-align: center;"><span class="math inline">\(Y_i(1)\)</span></th>
<th style="text-align: center;"><span class="math inline">\(Y_i(0)\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>0</td>
<td>0</td>
<td style="text-align: center;">?</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td>4</td>
<td>0</td>
<td>0</td>
<td style="text-align: center;">?</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="odd">
<td>5</td>
<td>0</td>
<td>1</td>
<td style="text-align: center;">?</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">?</td>
</tr>
<tr class="odd">
<td>3</td>
<td>1</td>
<td>0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">?</td>
</tr>
<tr class="even">
<td>6</td>
<td>1</td>
<td>1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">?</td>
</tr>
</tbody>
</table>
<ul>
<li>We can then estimate <span class="math inline">\(\mathbb{E}[Y_i|T_i=1] = 0.66\)</span> and <span class="math inline">\(\mathbb{E}[Y_i|T_i=0] = 0.33\)</span> and use these values to replace the missing counterfactuals.</li>
<li><em>ATE</em> is now <strong><em>identifiable</em></strong> in the sense that it can be computed from a purely statistical quantity.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="_images/_1/flowchart.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img data-src="_images/_1/flowchart.png" class="quarto-figure quarto-figure-center" height="100"></a></p>
</figure>
</div>
</section>
<section id="assumptions-in-the-po-framework-3" class="slide level2">
<h2>Assumptions in the PO Framework (3)</h2>
<ul>
<li>Let’s make exchangeability more realistic, i.e.&nbsp;<em>conditional</em> on covariates, so that subgroups will be exchangable.</li>
</ul>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Assumption 5: “Conditional Exchangeability / Unconfoundedness”.</strong></p>
</div>
<div class="callout-content">
<p>Formally, <span class="math inline">\((Y(1), Y(0)) \perp\!\!\!\perp T \, | \, X\)</span>.</p>
</div>
</div>
</div>

<img data-src="_images/_1/dag_ass5.png" class="r-stretch quarto-figure quarto-figure-center"></section>
<section id="assumptions-in-the-po-framework-4" class="slide level2">
<h2>Assumptions in the PO Framework (4)</h2>
<ul>
<li>Conditioning on many covariates can also be detrimental, because we might end up conditioning on a zero probability event for some subgroups / values of X (division by zero)</li>
</ul>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Assumption 6: “Positivity / Overlap / Common Support”.</strong></p>
</div>
<div class="callout-content">
<p>For all values of covariates <span class="math inline">\(x\)</span> present in the population of interest (i.e.&nbsp;<span class="math inline">\(x\)</span> such that <span class="math inline">\(P(X=x) &gt; 0\)</span>), we have <span class="math inline">\(0 &lt; P(T=1|X=x) &lt; 1\)</span>.</p>
</div>
</div>
</div>
<ul>
<li>There is a trade-off between positivity and unconfoundedness.</li>
<li>Some models might be forced to <em>extrapolate</em> to regions without sufficient support by using their parametric assumptions.</li>
</ul>
</section>
<section id="derivation-of-the-average-treatment-effect-ate" class="slide level2">
<h2>Derivation of the Average Treatment Effect (ATE)</h2>
<ul>
<li>With the assumptions of conditional unconfoundedness, positivity, consistency, and no interference, we can identify the ATE as:</li>
</ul>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Theorem 1: “Identification of the ATE”:</strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(\tau = \mathbb{E}[Y_i(1)] - \mathbb{E}[Y_i(0)] = \mathbb{E_X}[\mathbb{E}[Y_i|T_i=1, X_i] - \mathbb{E}[Y_i|T_i=0, X_i]]\)</span></p>
</div>
</div>
</div>
</section>
<section id="derivation-of-the-average-treatment-effect-ate-1" class="slide level2">
<h2>Derivation of the Average Treatment Effect (ATE)</h2>
<ul>
<li>Proof:</li>
</ul>
<p><span class="math display">\[\begin{align*}
\tau = \mathbb{E}[\tau_i] &amp;= \mathbb{E}[Y_i(1) - Y_i(0)] \\
&amp;= \mathbb{E}[Y_i(1)] - \mathbb{E}[Y_i(0)] \\
&amp; \text{(linearity of expectation)} \\
&amp;= \mathbb{E}_X [\mathbb{E}[Y_i(1) \mid X_i]] - \mathbb{E}_X [\mathbb{E}[Y_i(0) \mid X_i]] \\
&amp;\text{(law of iterated expectations)} \\
&amp;= \mathbb{E}_X [\mathbb{E}[Y_i(1) \mid T_i = 1, X_i]] - \mathbb{E}_X [\mathbb{E}[Y_i(0) \mid T_i = 0, X_i]] \\
&amp;\text{(unconfoundedness and positivity)} \\
&amp;= \mathbb{E}_X [\mathbb{E}[Y_i \mid T_i = 1, X_i]] - \mathbb{E}_X [\mathbb{E}[Y_i \mid T_i = 0, X_i]] \\
&amp;\text{(consistency)}
\end{align*}\]</span></p>
</section>
<section id="other-causal-quantities" class="slide level2">
<h2>Other Causal Quantities</h2>
<ul>
<li>The ATE is just one of many causal quantities that can be estimated using the PO framework.</li>
</ul>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>“Average Treatment Effect on the Treated” (ATT):</strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(ATT = \mathbb{E}[Y_i(1)|T_i=1] - \mathbb{E}[Y_i(0)|T_i=1]\)</span></p>
</div>
</div>
</div>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>“Conditional Average Treatment Effect” (CATE):</strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(CATE = \mathbb{E}[Y_i(1)|X_i=x] - \mathbb{E}[Y_i(0)|X_i=x]\)</span></p>
</div>
</div>
</div>
</section></section>
<section id="section" class="title-slide slide level1 center center-x" data-state="hide-menubar">
<h1></h1>
<style>
.table-text {
  text-align: center !important;
  font-size: 2em;
  padding-bottom: 1em !important;
}
.row-bottom {
  text-align: center !important;
  padding-top: 2em !important;
}
</style>
<table width="100%">
<tbody>
<tr>
<td colspan="2" class="table-text">
Thank you for your attention!
</td>
</tr>
<tr>
<td class="row-bottom" style="vertical-align: baseline; width: 50%;">
<img src="https://raw.githubusercontent.com/christophihl/TIE_website/main/assets/images/logo.svg" style="vertical-align: middle; width: 60%; height: auto;"> <img src="author_pic.jpg" class="picture" style="vertical-align: middle; horizontal-align: right; width: 30%; height: auto;">
</td>
<td class="row-bottom" style="vertical-align: middle; width = 50%">
<ul style="list-style:none;">
<li>
<a href="https://www.startupengineer.io/authors/ihl/" target="_blank"><i class="fas fa-home"></i> startupengineer.io/authors/ihl</a>
</li>
<li>
<a href="https://www.linkedin.com/in/christoph-ihl/" target="_blank"><i class="fab fa-linkedin"></i> christoph-ihl</a>
</li>
<li>
<a href="https://github.com/christophihl" target="_blank"><i class="fab fa-github"></i> christophihl</a>
</li>
<li>
<a href="https://twitter.com/Ihluminate/" target="_blank"><i class="fab fa-twitter"></i> Ihluminate</a>
</li>
</ul>
</td>
</tr>
</tbody>
</table>

<div class="quarto-auto-generated-content">
<div class="footer footer-default">
<p>Causal Data Science: (1) Introduction to Causal Inference</p>
</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-fullscreen-button/FullscreenButton.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-fullscreen-button/screenfull.min.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-toggle-dark-mode/toggledarkmode.js"></script>
  <script src="../../site_libs/revealjs/plugin/simplemenu/SimpleMenu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'simplemenu': {"auto":true,"menubarclass":"menubar"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, RevealFullscreenButton, RevealToggleDarkMode, Simplemenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    <script>var lightboxQuarto = GLightbox({"openEffect":"zoom","descPosition":"bottom","closeEffect":"zoom","selector":".lightbox","loop":false});
    window.onload = () => {
      lightboxQuarto.on('slide_before_load', (data) => {
        const { slideIndex, slideNode, slideConfig, player, trigger } = data;
        const href = trigger.getAttribute('href');
        if (href !== null) {
          const imgEl = window.document.querySelector(`a[href="${href}"] img`);
          if (imgEl !== null) {
            const srcAttr = imgEl.getAttribute("src");
            if (srcAttr && srcAttr.startsWith("data:")) {
              slideConfig.href = srcAttr;
            }
          }
        } 
      });

      lightboxQuarto.on('slide_after_load', (data) => {
        const { slideIndex, slideNode, slideConfig, player, trigger } = data;
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(slideNode);
        }
      });

    };
              </script>
    

</body></html>